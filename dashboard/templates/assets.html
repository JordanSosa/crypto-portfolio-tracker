{% extends "layout.html" %}

{% block content %}
<div class="dashboard-grid">
    <div class="card table-card">
        <div class="card-header">
            <span class="card-title">Full Asset List</span>
            <button class="btn-primary" style="font-size: 0.8rem; padding: 0.4rem 0.8rem;">
                <i class="fa-solid fa-plus"></i> Add Manual Asset
            </button>
        </div>
        <table class="assets-table">
            <thead>
                <tr>
                    <th>Asset</th>
                    <th class="text-right">Price</th>
                    <th class="text-right">Balance</th>
                    <th class="text-right">Value</th>
                    <th class="text-right">Allocation</th>
                </tr>
            </thead>
            <tbody>
                {% for symbol, asset in portfolio.items() %}
                <tr>
                    <td>
                        <div class="coin-info">
                            <div class="coin-icon">{{ symbol[:1] }}</div>
                            <div>
                                <div style="font-weight: 600">{{ asset.name }}</div>
                                <div style="font-size: 0.8rem; color: var(--text-secondary)">{{ symbol }}</div>
                            </div>
                        </div>
                    </td>
                    <td class="text-right">${{ "{:,.2f}".format(asset.current_price) }}</td>
                    <td class="text-right">{{ "{:,.4f}".format(asset.amount) }} {{ symbol }}</td>
                    <td class="text-right" style="font-weight: 600">${{ "{:,.2f}".format(asset.value) }}</td>
                    <td class="text-right">
                        <div style="display: flex; align-items: center; justify-content: flex-end; gap: 0.5rem">
                            <span>{{ "{:.1f}".format(asset.allocation_percent) }}%</span>
                            <div
                                style="width: 50px; height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px;">
                                <div
                                    style="width: {{ asset.allocation_percent }}%; height: 100%; background: var(--accent-primary); border-radius: 2px;">
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}